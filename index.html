<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
        />
        <title>UXshagan Labs - Virtual Chemistry</title>
        <link rel="stylesheet" href="style.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap"
            rel="stylesheet"
        />
    </head>
    <body>
        <!-- Close Button -->
        <button class="close-btn" id="closeBtn" aria-label="Close">
            &times;
        </button>

        <!-- Contents / Reactions Panel -->
        <div class="info-panel" id="infoPanel">
            <div class="info-tabs">
                <button class="info-tab active" data-tab="contents">
                    Contents
                </button>
                <button class="info-tab" data-tab="reactions">Reactions</button>
            </div>
            <div class="info-body" id="infoBody">
                <table class="contents-table" id="contentsTable">
                    <thead>
                        <tr>
                            <th>Reactant</th>
                            <th>Quantity</th>
                            <th>Dissolved</th>
                        </tr>
                    </thead>
                    <tbody id="contentsBody">
                        <!-- Filled by JS -->
                    </tbody>
                </table>
                <div class="reactions-list hidden" id="reactionsList">
                    <p class="empty-text">No reactions yet</p>
                </div>
            </div>
        </div>

        <!-- 3D Canvas -->
        <canvas id="labCanvas"></canvas>

        <!-- Left Controls: Pour Speed -->
        <div class="side-controls left-controls">
            <div class="control-group">
                <button class="ctrl-btn" id="pourSpeedUp">+</button>
                <span class="ctrl-value" id="pourSpeedValue">1.0</span>
                <button class="ctrl-btn" id="pourSpeedDown">&minus;</button>
            </div>
            <div class="control-group">
                <button class="ctrl-btn" id="heatUp">+</button>
                <div class="thermometer" id="thermometer">
                    <div class="thermo-fill" id="thermoFill"></div>
                </div>
                <button class="ctrl-btn" id="heatDown">&minus;</button>
            </div>
        </div>

        <!-- Right Controls: Stir & pH -->
        <div class="side-controls right-controls">
            <div class="ph-meter" id="phMeter">
                <div class="ph-strip">
                    <div class="ph-indicator" id="phIndicator"></div>
                </div>
                <span class="ph-value" id="phValue">7.0</span>
            </div>
            <button class="stir-btn" id="stirBtn" title="Stir">
                <svg
                    viewBox="0 0 24 24"
                    width="22"
                    height="22"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                >
                    <path d="M12 3v12M8 11l4 4 4-4" />
                    <ellipse cx="12" cy="19" rx="6" ry="2" />
                </svg>
            </button>
        </div>

        <!-- Bottom Chemical Categories -->
        <div class="chemical-bar" id="chemicalBar">
            <div class="category-tabs" id="categoryTabs">
                <button class="cat-tab active" data-category="water">
                    Water
                </button>
                <button class="cat-tab" data-category="acids">Acids</button>
                <button class="cat-tab" data-category="bases">Bases</button>
                <button class="cat-tab" data-category="salts">Salts</button>
                <button class="cat-tab" data-category="metals">Metals</button>
            </div>
            <div class="chemical-list" id="chemicalList">
                <!-- Filled by JS -->
            </div>
        </div>

        <!-- Scripts -->
        <script type="importmap">
            {
                "imports": {
                    "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
                    "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
                }
            }
        </script>
        <script type="module" src="main.js"></script>
    </body>
</html>
